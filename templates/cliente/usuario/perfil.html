{% extends 'cliente/base_cliente.html' %}

{% block title %}Mi Perfil - Chofys Pet's{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto;">
    <h1 style="color: #4a5568; margin-bottom: 30px;">Mi Perfil</h1>
    
    <div class="form-container">
        <form method="post">
            {% csrf_token %}
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px;">
                <div class="form-group">
                    <label>Nombre</label>
                    <input type="text" name="nombre" value="{{ user.nombre }}" required>
                </div>
                
                <div class="form-group">
                    <label>Apellido Paterno</label>
                    <input type="text" name="apepaterno" value="{{ user.apepaterno }}" required>
                </div>
                
                <div class="form-group">
                    <label>Apellido Materno</label>
                    <input type="text" name="apematerno" value="{{ user.apematerno }}" required>
                </div>
                
                <div class="form-group">
                    <label>Correo Electrónico</label>
                    <input type="email" value="{{ user.correo }}" disabled style="background: #f8f9fa;">
                    <small style="color: #718096;">El correo no se puede cambiar</small>
                </div>
                
                <div class="form-group">
                    <label>RFC</label>
                    <input type="text" value="{{ user.rfc }}" disabled style="background: #f8f9fa;">
                    <small style="color: #718096;">El RFC no se puede cambiar</small>
                </div>
                
                <div class="form-group">
                    <label>Teléfono</label>
                    <input type="text" name="telefono" value="{{ user.telefono }}" required>
                </div>
                
                <div class="form-group">
                    <label>Código Postal</label>
                    <input type="text" name="codigo_postal" value="{{ user.codigo_postal }}" required>
                </div>
                
                <div class="form-group">
                    <label>Estado</label>
                    <input type="text" name="estado" value="{{ user.estado }}" required>
                </div>
                
                <div class="form-group">
                    <label>Ciudad</label>
                    <input type="text" name="ciudad" value="{{ user.ciudad }}" required>
                </div>
            </div>
            
            <div class="form-group">
                <label>Domicilio</label>
                <textarea name="domicilio" rows="3" required>{{ user.domicilio }}</textarea>
            </div>
            
            <div style="margin-top: 30px; text-align: center;">
                <button type="submit" class="btn btn-primary" style="padding: 12px 40px;">
                    Guardar Cambios
                </button>
            </div>
        </form>
    </div>
    
    <!-- Información de facturación -->
    <div style="background: #f8f9fa; padding: 25px; border-radius: 12px; margin-top: 40px;">
        <h3 style="color: #4a5568; margin-bottom: 20px;">Información de Facturación</h3>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
            <div>
                <h4 style="color: #718096; font-size: 0.9rem; margin-bottom: 5px;">RFC Registrado</h4>
                <p style="color: #2d3748; font-weight: bold;">{{ user.rfc }}</p>
            </div>
            
            <div>
                <h4 style="color: #718096; font-size: 0.9rem; margin-bottom: 5px;">Correo para Facturas</h4>
                <p style="color: #2d3748; font-weight: bold;">{{ user.correo }}</p>
            </div>
            
            <div>
                <h4 style="color: #718096; font-size: 0.9rem; margin-bottom: 5px;">Dirección Fiscal</h4>
                <p style="color: #2d3748;">{{ user.domicilio }}, {{ user.ciudad }}, {{ user.estado }}, C.P. {{ user.codigo_postal }}</p>
            </div>
        </div>
        
        <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #e2e8f0;">
            <p style="color: #718096; font-size: 0.9rem;">
                <strong>Nota:</strong> Todos los precios incluyen IVA (16%). 
                Recibirás factura electrónica automáticamente en cada compra.
            </p>
        </div>
    </div>
</div>
{% endblock %}