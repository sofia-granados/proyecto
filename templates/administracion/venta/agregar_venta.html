{% extends 'administracion/base.html' %}

{% block title %}Agregar Venta - Chofys Pet's{% endblock %}

{% block content %}
<div class="form-container">
    <h2 style="color: #ff65a3; margin-bottom: 30px; text-align: center;">Agregar Venta Manual</h2>
    
    <form method="post">
        {% csrf_token %}
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
            <div class="form-group">
                <label>Cliente:</label>
                <select name="id_usuario" required>
                    <option value="">Seleccione un cliente</option>
                    {% for usuario in usuarios %}
                    <option value="{{ usuario.id_usuario }}">
                        {{ usuario.nombre }} {{ usuario.apepaterno }} - {{ usuario.correo }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-group">
                <label>Pedido Asociado:</label>
                <select name="id_pedido" required>
                    <option value="">Seleccione un pedido</option>
                    {% for pedido in pedidos %}
                    <option value="{{ pedido.id_pedido }}">
                        Pedido #{{ pedido.id_pedido }} - ${{ pedido.total }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-group">
                <label>Importe Total ($):</label>
                <input type="number" name="importe_total" step="0.01" required placeholder="0.00">
            </div>
            
            <div class="form-group">
                <label>Método de Pago:</label>
                <select name="metodo_pago" required>
                    <option value="">Seleccione método</option>
                    <option value="EFECTIVO">Efectivo</option>
                    <option value="TARJETA">Tarjeta</option>
                    <option value="TRANSFERENCIA">Transferencia</option>
                </select>
            </div>
        </div>
        
        <div style="display: flex; justify-content: center; gap: 20px; margin-top: 30px;">
            <button type="submit" class="btn btn-primary" style="padding: 12px 40px;">Registrar Venta</button>
            <a href="{% url 'administracion:ver_ventas' %}" class="btn btn-secondary" style="padding: 12px 40px;">Cancelar</a>
        </div>
    </form>
</div>
{% endblock %}