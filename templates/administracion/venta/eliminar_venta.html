{% extends 'administracion/base.html' %}
{% block title %}Eliminar Venta - Chofys Pet's{% endblock %}

{% block content %}
<div class="form-container">
    <h2 style="color: #ff5252; margin-bottom: 20px; text-align: center;">Confirmar Eliminación de Venta</h2>
    
    <div class="alert alert-danger" style="text-align: center; padding: 30px;">
        <h3 style="margin-bottom: 20px;">⚠️ ¿Está seguro de eliminar esta venta?</h3>
        
        <div style="background: white; padding: 20px; border-radius: 8px; margin: 20px 0; text-align: left;">
            <p><strong>ID Venta:</strong> #{{ venta.id_venta }}</p>
            <p><strong>Cliente:</strong> {{ venta.id_usuario.nombre }} {{ venta.id_usuario.apepaterno }}</p>
            <p><strong>Pedido Asociado:</strong> #{{ venta.id_pedido.id_pedido }}</p>
            <p><strong>Fecha de Venta:</strong> {{ venta.fecha_venta|date:"d/m/Y H:i" }}</p>
            <p><strong>Importe Total:</strong> 
                <span style="font-size: 1.2rem; font-weight: bold; color: #ff5252;">
                    ${{ venta.importe_total }}
                </span>
            </p>
            <p><strong>Método de Pago:</strong> {{ venta.get_metodo_pago_display }}</p>
            <p><strong>Estado del Pedido:</strong> {{ venta.id_pedido.estado }}</p>
        </div>
        
        <div style="background: #fff5f5; padding: 20px; border-radius: 8px; margin-top: 20px; border-left: 4px solid #ff5252;">
            <h4 style="color: #721c24; margin-bottom: 10px;">⚠️ CONSECUENCIAS DE ELIMINAR:</h4>
            <ul style="text-align: left; color: #721c24; padding-left: 20px;">
                <li>Esta venta desaparecerá del historial de ventas</li>
                <li>Los registros contables serán afectados</li>
                <li>El pedido asociado NO se eliminará</li>
                <li>Los productos NO serán devueltos al inventario automáticamente</li>
                <li>Esta acción NO se puede deshacer</li>
            </ul>
        </div>
        
        <p style="margin-top: 20px; font-weight: bold; color: #721c24;">
            ⚠️ Solo elimine ventas si fueron registradas por error. Para devoluciones, use el sistema de devoluciones.
        </p>
    </div>
    
    <div style="display: flex; justify-content: center; gap: 20px; margin-top: 30px;">
        <form method="post" style="display: inline;">
            {% csrf_token %}
            <button type="submit" class="btn btn-danger" style="padding: 12px 40px;">
                ⚠️ Sí, Eliminar Venta
            </button>
        </form>
        <a href="{% url 'administracion:detalle_venta' venta.id_venta %}" class="btn btn-secondary" style="padding: 12px 40px;">No, Volver al Detalle</a>
        <a href="{% url 'administracion:ver_ventas' %}" class="btn btn-primary" style="padding: 12px 40px;">Cancelar</a>
    </div>
</div>
{% endblock %}