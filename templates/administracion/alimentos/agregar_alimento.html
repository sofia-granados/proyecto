{% extends 'administracion/base_admin.html' %}

{% block title %}Agregar Alimento - Chofys Pet's{% endblock %}

{% block admin_content %}
<div class="card">
    <div class="card-header">
        <h2>Agregar Nuevo Alimento</h2>
    </div>
    <div class="card-body">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            
            <div class="mb-3">
                <label for="id_nombre" class="form-label">Nombre *</label>
                {{ form.nombre }}
                {% if form.nombre.errors %}
                <div class="text-danger">{{ form.nombre.errors }}</div>
                {% endif %}
            </div>
            
            <div class="mb-3">
                <label for="id_descripcion" class="form-label">Descripción</label>
                {{ form.descripcion }}
            </div>
            
            <div class="mb-3">
                <label for="id_precio" class="form-label">Precio *</label>
                {{ form.precio }}
                {% if form.precio.errors %}
                <div class="text-danger">{{ form.precio.errors }}</div>
                {% endif %}
            </div>
            
            <div class="mb-3">
                <label for="id_stock" class="form-label">Stock *</label>
                {{ form.stock }}
                {% if form.stock.errors %}
                <div class="text-danger">{{ form.stock.errors }}</div>
                {% endif %}
            </div>
            
            <div class="mb-3">
                <label for="id_categoria" class="form-label">Categoría *</label>
                {{ form.categoria }}
                {% if form.categoria.errors %}
                <div class="text-danger">{{ form.categoria.errors }}</div>
                {% endif %}
            </div>
            
            <div class="mb-3">
                <label for="id_tipo" class="form-label">Tipo *</label>
                {{ form.tipo }}
                {% if form.tipo.errors %}
                <div class="text-danger">{{ form.tipo.errors }}</div>
                {% endif %}
            </div>
            
            <div class="mb-3">
                <label for="id_imagen" class="form-label">Imagen</label>
                {{ form.imagen }}
            </div>
            
            <div class="d-flex justify-content-between">
                <a href="{% url 'administracion:ver_alimentos' %}" class="btn btn-secondary">Cancelar</a>
                <button type="submit" class="btn btn-primary">Guardar Alimento</button>
            </div>
        </form>
    </div>
</div>

<!-- Debug info (puedes eliminar esto después) -->
<div style="margin-top: 30px; padding: 15px; background: #f8f9fa; border-radius: 5px;">
    <h6>Debug Info:</h6>
    <p><strong>Categorías disponibles ({{ categorias.count }}):</strong></p>
    <ul>
        {% for cat in categorias %}
        <li>{{ cat.id }} - {{ cat.nombre }}</li>
        {% empty %}
        <li>No hay categorías registradas</li>
        {% endfor %}
    </ul>
    
    <p><strong>Tipos disponibles ({{ tipos.count }}):</strong></p>
    <ul>
        {% for tipo in tipos %}
        <li>{{ tipo.id }} - {{ tipo.nombre }}</li>
        {% empty %}
        <li>No hay tipos registrados</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}